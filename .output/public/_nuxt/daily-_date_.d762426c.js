import{_ as T}from"./PageTitle.vue.3ea3bf21.js";import{_ as D,a as I}from"./UseSocialPost.vue.1ec7d063.js";import P from"./tag.esm.ba7bd9e1.js";import{g as w,r as N,h as j,o as l,c as i,a as r,b as d,w as f,d as B,t as F,F as h,i as g,j as y,k as S,n as b,l as V,u as n,e as z,m as q,q as k,s as E}from"./entry.e65a8b12.js";import{u as L}from"./index.5ff72cb1.js";import{u as A}from"./fetch.67514f53.js";import{p as M}from"./index.ca906294.js";import"./overlaypanel.esm.c86d5ed9.js";import"./index.esm.42b2c471.js";import"./baseicon.esm.727e0a4e.js";import"./overlayeventbus.esm.5f1005ca.js";import"./portal.esm.aa40dffd.js";import"./vue.f36acd1f.bcc699b4.js";const Q={class:"shadow-1 r:6 bg:white p:16"},R={class:"flex {flex:col;gap:8}@<xs {flex:row;justify-content:space-between}@>xs mb:8"},U=["onClick"],W=r("i",{class:"pi pi-user mr:4"},null,-1),G={class:"flex flex:row gap:4"},H={class:"w:full"},J={class:"flex flex:row h:100 py:8 gap:8"},K=["onClick"],O=["src","alt"],X=w({__name:"ImageItem",props:{item:{}},setup(x){const s=N(0);return(e,$)=>{const c=D,v=P,p=z,_=I,m=j("ripple");return l(),i("div",Q,[r("div",R,[d(c,{author:e.item.author},{default:f(t=>{var o;return[r("div",{class:"f:bold f:1.2em cursor:pointer",onClick:a=>{var u;return(u=t.op)==null?void 0:u.show(a)}},[W,B(F((o=e.item.author)==null?void 0:o.name),1)],8,U)]}),_:1},8,["author"]),r("div",G,[(l(!0),i(h,null,g(e.item.urls,(t,o)=>(l(),y(_,{url:t},{default:f(a=>[d(p,{href:t,target:"_blank"},{default:f(()=>[S(d(v,{value:a.socialPostType.key,title:a.socialPostType.toDisplay(),style:b({backgroundColor:a.socialPostType.color}),class:"p-ripple capitalize"},null,8,["value","title","style"]),[[m]])]),_:2},1032,["href"])]),_:2},1032,["url"]))),256))])]),r("div",H,[r("div",J,[(l(!0),i(h,null,g(e.item.local_files,(t,o)=>(l(),i("div",{class:V(["h:full r:6 aspect:1/1 bg:center bg:cover cursor:pointer b:var(--primary-color) b:2 b:dashed:hover",{"b:solid":o===n(s)}]),style:b({backgroundImage:`url('https://object.wakachika.love/${t.path}')`}),onClick:a=>s.value=o},null,14,K))),256))]),r("img",{src:`https://object.wakachika.love/${e.item.local_files[n(s)].path}`,alt:e.item.local_files[n(s)].file_name,class:"w:inherit r:6"},null,8,O)])])}}}),Y={key:0},Z={class:"flex flex:col w:full align-items:center gap:8"},_e=w({__name:"daily-[date]",setup(x){const s=q(),{data:e,pending:$,error:c,execute:v}=A("/api/images/item",{server:!1,query:{date:s.params.date,order_by:"+id"}},"$2s59oQgWg3"),p=`${s.params.date}的鱼图`,_=M(p);return L({title:_,ogTitle:_,description:p,ogDescription:p}),k(()=>{var m,t;if(c.value)switch(console.log((m=c.value)==null?void 0:m.status),(t=c.value)==null?void 0:t.status){case 422:console.warn("你是否走错了地方？a");break;default:console.error("网络错误");break}}),k(()=>{e.value&&(e.value.count||console.warn("你是否走错了地方？b"))}),(m,t)=>{var u;const o=T,a=X;return n(e)?(l(),i("div",Y,[d(o,{value:n(s).params.date},null,8,["value"]),r("div",Z,[(l(!0),i(h,null,g((u=n(e))==null?void 0:u.items,C=>(l(),y(a,{item:C,class:"general-width"},null,8,["item"]))),256))])])):E("",!0)}}});export{_e as default};
